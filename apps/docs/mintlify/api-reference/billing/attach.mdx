---
title: "Attach"
openapi: "openapi POST /v1/attach"
---

import { DynamicParamField } from "/snippets/dynamic-param-field.jsx";
import { DynamicResponseField } from "/snippets/dynamic-response-field.jsx";

## Body Parameters

<DynamicParamField body="options" type="object[] | null">
  <Expandable title="properties">
    <DynamicParamField body="feature_id" type="string" required />

    <DynamicParamField body="quantity" type="number" />

    <DynamicParamField body="reset_after_trial_end" type="boolean" />

  </Expandable>
</DynamicParamField>

<DynamicParamField body="version" type="number" />

<DynamicParamField body="free_trial" type="object | null">
  <Expandable title="properties">
    <DynamicParamField body="length" type="number" required />

    <DynamicParamField body="duration" type="'day' | 'month' | 'year'" required />

    <DynamicParamField body="card_required" type="boolean" />

  </Expandable>
</DynamicParamField>

<DynamicParamField body="items" type="object[]">
  <Expandable title="properties">
    <DynamicParamField body="type" type="'feature' | 'priced_feature' | 'price'" />

    <DynamicParamField body="feature_id" type="string | null" />

    <DynamicParamField body="included_usage" type="number | null" />

    <DynamicParamField body="interval" type="enum" />

    <DynamicParamField body="interval_count" type="number | null" />

    <DynamicParamField body="entity_feature_id" type="string | null" />

    <DynamicParamField body="usage_model" type="'prepaid' | 'pay_per_use'" />

    <DynamicParamField body="price" type="number | null" />

    <DynamicParamField body="tiers" type="object[] | null">
      <Expandable title="properties">
        <DynamicParamField body="to" type="number" required />

        <DynamicParamField body="amount" type="number" required>
          The price of the product item for this tier.
        </DynamicParamField>

      </Expandable>
    </DynamicParamField>

    <DynamicParamField body="billing_units" type="number | null" />

    <DynamicParamField body="reset_usage_when_enabled" type="boolean | null" />

  </Expandable>
</DynamicParamField>

<DynamicParamField body="product_id" type="string" required />

<DynamicParamField body="invoice" type="boolean" />

<DynamicParamField body="enable_product_immediately" type="boolean" />

<DynamicParamField body="finalize_invoice" type="boolean" />

<DynamicParamField body="redirect_mode" type="'always' | 'if_required' | 'never'" />

<DynamicParamField body="success_url" type="string" />

<DynamicParamField body="new_billing_subscription" type="boolean" />

<DynamicParamField body="plan_schedule" type="'immediate' | 'end_of_cycle'" />

<DynamicParamField body="billing_behavior" type="'prorate_immediately' | 'next_cycle_only'" />

<DynamicParamField body="adjustable_quantity" type="boolean" />


## Response

<DynamicResponseField name="customer_id" type="string" />

<DynamicResponseField name="invoice" type="object">
  <Expandable title="properties">
    <DynamicResponseField name="status" type="string | null" />

    <DynamicResponseField name="stripe_id" type="string" />

    <DynamicResponseField name="total" type="number" />

    <DynamicResponseField name="currency" type="string" />

    <DynamicResponseField name="hosted_invoice_url" type="string | null" />

  </Expandable>
</DynamicResponseField>

<DynamicResponseField name="payment_url" type="string | null" />

<DynamicResponseField name="required_action" type="object">
  <Expandable title="properties">
    <DynamicResponseField name="code" type="'3ds_required' | 'payment_method_required' | 'payment_failed'" />

    <DynamicResponseField name="reason" type="string" />

  </Expandable>
</DynamicResponseField>
