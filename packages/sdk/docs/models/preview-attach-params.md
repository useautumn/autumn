# PreviewAttachParams

## Example Usage

```typescript
import { PreviewAttachParams } from "@useautumn/sdk";

let value: PreviewAttachParams = {
  customerId: "cus_123",
  planId: "pro_plan",
};
```

## Fields

| Field                                                                                                                                                                                                                    | Type                                                                                                                                                                                                                     | Required                                                                                                                                                                                                                 | Description                                                                                                                                                                                                              |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `customerId`                                                                                                                                                                                                             | *string*                                                                                                                                                                                                                 | :heavy_check_mark:                                                                                                                                                                                                       | The ID of the customer to attach the plan to.                                                                                                                                                                            |
| `entityId`                                                                                                                                                                                                               | *string*                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                       | The ID of the entity to attach the plan to.                                                                                                                                                                              |
| `planId`                                                                                                                                                                                                                 | *string*                                                                                                                                                                                                                 | :heavy_check_mark:                                                                                                                                                                                                       | The ID of the plan.                                                                                                                                                                                                      |
| `featureQuantities`                                                                                                                                                                                                      | [models.PreviewAttachFeatureQuantity](../models/preview-attach-feature-quantity.md)[]                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                       | If this plan contains prepaid features, use this field to specify the quantity of each prepaid feature. This quantity includes the included amount and billing units defined when setting up the plan.                   |
| `version`                                                                                                                                                                                                                | *number*                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                       | The version of the plan to attach.                                                                                                                                                                                       |
| `freeTrial`                                                                                                                                                                                                              | [models.PreviewAttachFreeTrial](../models/preview-attach-free-trial.md)                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                       | Override the plan's default free trial. Pass an object to set a custom trial, or null to remove the trial entirely.                                                                                                      |
| `customize`                                                                                                                                                                                                              | [models.PreviewAttachCustomize](../models/preview-attach-customize.md)                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                       | Customize the plan to attach. Can either override the price of the plan, the items in the plan, or both.                                                                                                                 |
| `invoiceMode`                                                                                                                                                                                                            | [models.PreviewAttachInvoiceMode](../models/preview-attach-invoice-mode.md)                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                       | Invoice mode creates a draft or open invoice and sends it to the customer, instead of charging their card immediately. This uses Stripe's send_invoice collection method.                                                |
| `billingBehavior`                                                                                                                                                                                                        | [models.PreviewAttachBillingBehavior](../models/preview-attach-billing-behavior.md)                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                       | How to handle billing when updating an existing subscription. 'prorate_immediately' charges/credits prorated amounts now, 'next_cycle_only' skips creating any charges and applies the change at the next billing cycle. |
| `discounts`                                                                                                                                                                                                              | *models.PreviewAttachDiscountUnion*[]                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                       | List of discounts to apply. Each discount can be an Autumn reward ID, Stripe coupon ID, or Stripe promotion code.                                                                                                        |
| `successUrl`                                                                                                                                                                                                             | *string*                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                       | URL to redirect to after successful checkout.                                                                                                                                                                            |
| `newBillingSubscription`                                                                                                                                                                                                 | *boolean*                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                       | Only applicable when the customer has an existing Stripe subscription. If true, creates a new separate subscription instead of merging into the existing one.                                                            |
| `planSchedule`                                                                                                                                                                                                           | [models.PreviewAttachPlanSchedule](../models/preview-attach-plan-schedule.md)                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                       | When the plan change should take effect. 'immediate' applies now, 'end_of_cycle' schedules for the end of the current billing cycle. By default, upgrades are immediate and downgrades are scheduled.                    |