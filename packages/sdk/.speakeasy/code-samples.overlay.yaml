overlay: 1.0.0
info:
  title: CodeSamples overlay for typescript target
  version: 0.0.0
actions:
  - target: $["paths"]["/v1/balances.check"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.balances.check({
                customerId: "<id>",
                featureId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/balances.create"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.balances.create({
                featureId: "<id>",
                customerId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/balances.track"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.balances.track({
                customerId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/balances.update"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.balances.update({
                customerId: "<id>",
                featureId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/billing.attach"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.billing.attach({
                customerId: "<id>",
                planId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/billing.preview_attach"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.billing.previewAttach({
                customerId: "<id>",
                planId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/billing.preview_update"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.billing.previewUpdate({
                customerId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/billing.setup_payment"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.billing.setupPayment({
                customerId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/billing.update"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.billing.update({
                customerId: "<id>",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/customers.delete"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.customers.delete({
                customerId: "cus_123",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/customers.get_or_create"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.customers.getOrCreate({
                customerId: "cus_123",
                name: "John Doe",
                email: "john@example.com",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/customers.list"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.customers.list({});

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/customers.update"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.customers.update({
                customerId: "cus_123",
                name: "Jane Doe",
                email: "jane@example.com",
              });

              console.log(result);
            }

            run();
  - target: $["paths"]["/v1/plans.list"]["post"]
    update:
      x-codeSamples:
        - lang: typescript
          label: Typescript (SDK)
          source: |-
            import { Autumn } from "@useautumn/sdk";

            const autumn = new Autumn({
              xApiVersion: "2.1",
              secretKey: process.env["AUTUMN_SECRET_KEY"] ?? "",
            });

            async function run() {
              const result = await autumn.plans.list();

              console.log(result);
            }

            run();
