// Generated by ts-to-zod
import { z } from "zod/v4";

export const aggregateEventsGlobalsSchema = z.object({
    xApiVersion: z.union([z.string(), z.undefined()]).optional()
});

export const aggregateEventsFeatureIdSchema = z.union([z.string(), z.array(z.string())]);

export const aggregateEventsCustomRangeSchema = z.object({
    start: z.number(),
    end: z.number()
});

export const aggregateEventsListSchema = z.object({
    period: z.number(),
    values: z.record(z.string(), z.number()),
    groupedValues: z.union([z.record(z.string(), z.record(z.string(), z.number())), z.undefined()]).optional()
});

export const totalSchema = z.object({
    count: z.number(),
    sum: z.number()
});

export const aggregateEventsResponseSchema = z.object({
    list: z.array(aggregateEventsListSchema),
    total: z.record(z.string(), totalSchema)
});

export const aggregateEventsFeatureIdOutboundSchema = z.union([z.string(), z.array(z.string())]);

export const aggregateEventsCustomRangeOutboundSchema = z.object({
    start: z.number(),
    end: z.number()
});

export const eventsAggregateParamsOutboundSchema = z.object({
    customer_id: z.string(),
    feature_id: z.union([z.string(), z.array(z.string())]),
    group_by: z.union([z.string(), z.undefined()]).optional(),
    range: z.union([z.string(), z.undefined()]).optional(),
    bin_size: z.string(),
    custom_range: z.union([aggregateEventsCustomRangeOutboundSchema, z.undefined()]).optional()
});

const closedEnumSchema = z.any();

export const rangeSchema = closedEnumSchema;

export const binSizeSchema = closedEnumSchema;

export const eventsAggregateParamsSchema = z.object({
    customerId: z.string(),
    featureId: z.union([z.string(), z.array(z.string())]),
    groupBy: z.union([z.string(), z.undefined()]).optional(),
    range: z.union([rangeSchema, z.undefined()]).optional(),
    binSize: z.union([binSizeSchema, z.undefined()]).optional(),
    customRange: z.union([aggregateEventsCustomRangeSchema, z.undefined()]).optional()
});
