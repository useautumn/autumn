// Generated by ts-to-zod
import { z } from "zod/v4";

export const attachGlobalsSchema = z.object({
	xApiVersion: z.union([z.string(), z.undefined()]).optional(),
});

export const attachFeatureQuantitySchema = z.object({
	featureId: z.string(),
	quantity: z.union([z.number(), z.undefined()]).optional(),
	adjustable: z.union([z.boolean(), z.undefined()]).optional(),
});

export const attachToSchema = z.union([z.number(), z.string()]);

export const attachTierSchema = z.object({
	to: z.union([z.number(), z.string()]),
	amount: z.number(),
	flatAmount: z.union([z.number(), z.undefined()]).optional().nullable(),
});

export const attachInvoiceModeSchema = z.object({
	enabled: z.boolean(),
	enablePlanImmediately: z.union([z.boolean(), z.undefined()]).optional(),
	finalize: z.union([z.boolean(), z.undefined()]).optional(),
});

export const attachAttachDiscountSchema = z.object({
	rewardId: z.union([z.string(), z.undefined()]).optional(),
	promotionCode: z.union([z.string(), z.undefined()]).optional(),
});

export const attachInvoiceSchema = z.object({
	status: z.string().nullable(),
	stripeId: z.string(),
	total: z.number(),
	currency: z.string(),
	hostedInvoiceUrl: z.string().nullable(),
});

export const attachFeatureQuantityOutboundSchema = z.object({
	feature_id: z.string(),
	quantity: z.union([z.number(), z.undefined()]).optional(),
	adjustable: z.union([z.boolean(), z.undefined()]).optional(),
});

export const attachBasePriceOutboundSchema = z.object({
	amount: z.number(),
	interval: z.string(),
	interval_count: z.union([z.number(), z.undefined()]).optional(),
});

export const attachResetOutboundSchema = z.object({
	interval: z.string(),
	interval_count: z.union([z.number(), z.undefined()]).optional(),
});

export const attachToOutboundSchema = z.union([z.number(), z.string()]);

export const attachTierOutboundSchema = z.object({
	to: z.union([z.number(), z.string()]),
	amount: z.number(),
	flat_amount: z.union([z.number(), z.undefined()]).optional().nullable(),
});

export const attachPriceOutboundSchema = z.object({
	amount: z.union([z.number(), z.undefined()]).optional(),
	tiers: z.union([z.array(attachTierOutboundSchema), z.undefined()]).optional(),
	tier_behavior: z.union([z.string(), z.undefined()]).optional(),
	interval: z.string(),
	interval_count: z.number(),
	billing_units: z.number(),
	billing_method: z.string(),
	max_purchase: z.union([z.number(), z.undefined()]).optional(),
});

export const attachProrationOutboundSchema = z.object({
	on_increase: z.string(),
	on_decrease: z.string(),
});

export const attachRolloverOutboundSchema = z.object({
	max: z.union([z.number(), z.undefined()]).optional(),
	expiry_duration_type: z.string(),
	expiry_duration_length: z.union([z.number(), z.undefined()]).optional(),
});

export const attachPlanItemOutboundSchema = z.object({
	feature_id: z.string(),
	included: z.union([z.number(), z.undefined()]).optional(),
	unlimited: z.union([z.boolean(), z.undefined()]).optional(),
	reset: z.union([attachResetOutboundSchema, z.undefined()]).optional(),
	price: z.union([attachPriceOutboundSchema, z.undefined()]).optional(),
	proration: z.union([attachProrationOutboundSchema, z.undefined()]).optional(),
	rollover: z.union([attachRolloverOutboundSchema, z.undefined()]).optional(),
});

export const attachFreeTrialParamsOutboundSchema = z.object({
	duration_length: z.number(),
	duration_type: z.string(),
	card_required: z.boolean(),
});

export const attachCustomizeOutboundSchema = z.object({
	price: z
		.union([attachBasePriceOutboundSchema, z.undefined()])
		.optional()
		.nullable(),
	items: z
		.union([z.array(attachPlanItemOutboundSchema), z.undefined()])
		.optional(),
	free_trial: z
		.union([attachFreeTrialParamsOutboundSchema, z.undefined()])
		.optional()
		.nullable(),
});

export const attachInvoiceModeOutboundSchema = z.object({
	enabled: z.boolean(),
	enable_plan_immediately: z.boolean(),
	finalize: z.boolean(),
});

export const attachAttachDiscountOutboundSchema = z.object({
	reward_id: z.union([z.string(), z.undefined()]).optional(),
	promotion_code: z.union([z.string(), z.undefined()]).optional(),
});

export const attachParamsOutboundSchema = z.object({
	customer_id: z.string(),
	entity_id: z.union([z.string(), z.undefined()]).optional(),
	plan_id: z.string(),
	feature_quantities: z
		.union([z.array(attachFeatureQuantityOutboundSchema), z.undefined()])
		.optional(),
	version: z.union([z.number(), z.undefined()]).optional(),
	customize: z.union([attachCustomizeOutboundSchema, z.undefined()]).optional(),
	invoice_mode: z
		.union([attachInvoiceModeOutboundSchema, z.undefined()])
		.optional(),
	proration_behavior: z.union([z.string(), z.undefined()]).optional(),
	discounts: z
		.union([z.array(attachAttachDiscountOutboundSchema), z.undefined()])
		.optional(),
	success_url: z.union([z.string(), z.undefined()]).optional(),
	new_billing_subscription: z.union([z.boolean(), z.undefined()]).optional(),
	plan_schedule: z.union([z.string(), z.undefined()]).optional(),
	checkout_session_params: z
		.union([z.record(z.string(), z.any()), z.undefined()])
		.optional(),
});

const closedEnumSchema = z.any();

const openEnumSchema = z.any();

export const attachPriceIntervalSchema = closedEnumSchema;

export const attachBasePriceSchema = z.object({
	amount: z.number(),
	interval: attachPriceIntervalSchema,
	intervalCount: z.union([z.number(), z.undefined()]).optional(),
});

export const attachResetIntervalSchema = closedEnumSchema;

export const attachResetSchema = z.object({
	interval: attachResetIntervalSchema,
	intervalCount: z.union([z.number(), z.undefined()]).optional(),
});

export const attachTierBehaviorSchema = closedEnumSchema;

export const attachItemPriceIntervalSchema = closedEnumSchema;

export const attachBillingMethodSchema = closedEnumSchema;

export const attachPriceSchema = z.object({
	amount: z.union([z.number(), z.undefined()]).optional(),
	tiers: z.union([z.array(attachTierSchema), z.undefined()]).optional(),
	tierBehavior: z.union([attachTierBehaviorSchema, z.undefined()]).optional(),
	interval: attachItemPriceIntervalSchema,
	intervalCount: z.union([z.number(), z.undefined()]).optional(),
	billingUnits: z.union([z.number(), z.undefined()]).optional(),
	billingMethod: attachBillingMethodSchema,
	maxPurchase: z.union([z.number(), z.undefined()]).optional(),
});

export const attachOnIncreaseSchema = closedEnumSchema;

export const attachOnDecreaseSchema = closedEnumSchema;

export const attachProrationSchema = z.object({
	onIncrease: attachOnIncreaseSchema,
	onDecrease: attachOnDecreaseSchema,
});

export const attachExpiryDurationTypeSchema = closedEnumSchema;

export const attachRolloverSchema = z.object({
	max: z.union([z.number(), z.undefined()]).optional(),
	expiryDurationType: attachExpiryDurationTypeSchema,
	expiryDurationLength: z.union([z.number(), z.undefined()]).optional(),
});

export const attachPlanItemSchema = z.object({
	featureId: z.string(),
	included: z.union([z.number(), z.undefined()]).optional(),
	unlimited: z.union([z.boolean(), z.undefined()]).optional(),
	reset: z.union([attachResetSchema, z.undefined()]).optional(),
	price: z.union([attachPriceSchema, z.undefined()]).optional(),
	proration: z.union([attachProrationSchema, z.undefined()]).optional(),
	rollover: z.union([attachRolloverSchema, z.undefined()]).optional(),
});

export const attachDurationTypeSchema = closedEnumSchema;

export const attachFreeTrialParamsSchema = z.object({
	durationLength: z.number(),
	durationType: z.union([attachDurationTypeSchema, z.undefined()]).optional(),
	cardRequired: z.union([z.boolean(), z.undefined()]).optional(),
});

export const attachCustomizeSchema = z.object({
	price: z.union([attachBasePriceSchema, z.undefined()]).optional().nullable(),
	items: z.union([z.array(attachPlanItemSchema), z.undefined()]).optional(),
	freeTrial: z
		.union([attachFreeTrialParamsSchema, z.undefined()])
		.optional()
		.nullable(),
});

export const attachProrationBehaviorSchema = closedEnumSchema;

export const attachPlanScheduleSchema = closedEnumSchema;

export const attachParamsSchema = z.object({
	customerId: z.string(),
	entityId: z.union([z.string(), z.undefined()]).optional(),
	planId: z.string(),
	featureQuantities: z
		.union([z.array(attachFeatureQuantitySchema), z.undefined()])
		.optional(),
	version: z.union([z.number(), z.undefined()]).optional(),
	customize: z.union([attachCustomizeSchema, z.undefined()]).optional(),
	invoiceMode: z.union([attachInvoiceModeSchema, z.undefined()]).optional(),
	prorationBehavior: z
		.union([attachProrationBehaviorSchema, z.undefined()])
		.optional(),
	discounts: z
		.union([z.array(attachAttachDiscountSchema), z.undefined()])
		.optional(),
	successUrl: z.union([z.string(), z.undefined()]).optional(),
	newBillingSubscription: z.union([z.boolean(), z.undefined()]).optional(),
	planSchedule: z.union([attachPlanScheduleSchema, z.undefined()]).optional(),
	checkoutSessionParams: z
		.union([z.record(z.string(), z.any()), z.undefined()])
		.optional(),
});

export const attachCodeSchema = openEnumSchema;

export const attachRequiredActionSchema = z.object({
	code: attachCodeSchema,
	reason: z.string(),
});

export const attachResponseSchema = z.object({
	customerId: z.string(),
	entityId: z.union([z.string(), z.undefined()]).optional(),
	invoice: z.union([attachInvoiceSchema, z.undefined()]).optional(),
	paymentUrl: z.string().nullable(),
	requiredAction: z
		.union([attachRequiredActionSchema, z.undefined()])
		.optional(),
});
